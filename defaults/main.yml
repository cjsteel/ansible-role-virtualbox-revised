---
# roles/virtualbox/defaults/main.yml

virtualbox_reboot: true
virtualbox_debug: true
virtualbox_resources_mount_check: false
virtualbox_refresh_resource_version: false            # force re-download of targeted resources
virtualbox_version: latest                            # specific version 5.2.22 OR latest

## Extension pack bulk installation license key and info
#
# VBoxManage extpack install --accept-license=56be48f923303c8cababb0bb4c478284b688ed23f16d775d729b89a2e8e5f9eb --replace Oracle_VM_VirtualBox_Extension_Pack-5.2.22.vbox-extpack
#
# Each version probably has a different bulk license key.

virtualbox_extension_pack_batch_installation_license: 56be48f923303c8cababb0bb4c478284b688ed23f16d775d729b89a2e8e5f9eb

########################################

# Resources

virtualbox_resources_on_local:

  virtualbox_local_directories:

    state: 'directory'
    path: '{{ virtualbox_controller_resources_dir }}'
    owner: '{{ virtualbox_controller_user }}'
    group: '{{ virtualbox_controller_user }}'
    mode: '0755'

  virtualbox_local_clones:

    become: ''
    repo: 'https://github.com/cjsteel/script-bash-acemenu.git'
    dest: '{{ virtualbox_controller_resources_dir }}/acemenu'
    mode: '0700'
    clone: true

  virtualbox_local_downloads:

    url: 'https://repo.continuum.io/miniconda/Miniconda2-4.3.30-Linux-x86_64.sh'
    dest: '{{ virtualbox_controller_resources_dir }}/Miniconda2-latest-Linux-x86_64.sh'
    owner: '{{ virtualbox_controller_user }}'
    group: '{{ virtualbox_controller_user }}'
    mode: '0700'
    checksum: 'md5:bd1655b4b313f7b2a1f2e15b7b925d03'
    resource_type: 'url'

  virtualbox_local_file_copies:

    state: "copy"
    src: './files/example_playbook.yml'
    dest: '{{ virtualbox_controller_resources_dir }}/copy_test.yml'
    owner: '{{ virtualbox_controller_user }}'
    group: '{{ virtualbox_controller_user }}'
    mode: '0700'

  virtualbox_local_file_touches:

    state: 'touch'
    path: '{{ virtualbox_controller_resources_dir }}/copy_test.yml'
    owner: '{{ virtualbox_controller_user }}'
    group: '{{ virtualbox_controller_user }}'
    mode: '0770'

  virtualbox_local_templated_files:


    state: 'template'
    src: './templates/template_test.md.j2'
    dest: '{{ virtualbox_controller_resources_dir }}/test.md'
    owner: '{{ virtualbox_controller_user }}'
    group: '{{ virtualbox_controller_user }}'
    mode: '0700'

  virtualbox_local_blocksinfile:

    type: 'blockinfile'
    path: '{{ virtualbox_controller_resources_dir }}/test.md'
    owner: '{{ virtualbox_controller_user }}'
    group: '{{ virtualbox_controller_user }}'
    mode: '0700'
    insertafter: "EOF"
    block: |
      # if running bash
      if [ -n "$BASH_VERSION" ]; then
          # include /opt/display/bin/display if it exists
          if [ -f "/opt/display/bin/display" ]; then
              PATH="/opt/display/bin:$PATH"

       	. "/opt/display/bin/"
          fi
      fi
    state: "present"

  virtualbox_local_standard_sym_links:

    state: "link"
    src: '{{ virtualbox_controller_resources_dir }}/test.md'
    dest: '{{ virtualbox_controller_resources_dir }}/my_local_link'
    owner: '{{ virtualbox_controller_user }}'
    group: '{{ virtualbox_controller_user }}'
    mode: '0700'
    force: '{{ virtualbox_default_link_force }}'

  virtualbox_local_relative_sym_links:

    link_name: 'relative_link'
    link_target: 'test.md'
    link_dir: '{{ virtualbox_controller_resources_dir }}'
    state: 'relative_link'
#    owner: '{{ virtualbox_controller_user }}'
#    group: '{{ virtualbox_controller_user }}'
#    mode: '0700'

virtualbox_resources_on_remote:

  virtualbox_remote_directories:

    state: 'directory'
    path: '{{ virtualbox_deployment_resources_dir }}'
    owner: '{{ virtualbox_deployment_user }}'
    group: '{{ virtualbox_deployment_user }}'
    mode: '0755'

  virtualbox_remote_clones:

    become: true
    repo: 'https://github.com/cjsteel/script-bash-acemenu.git'
    dest: '{{ virtualbox_deployment_resources_dir }}/acemenu'
    mode: '0700'
    clone: true

  virtualbox_remote_downloads:

    url: 'https://repo.continuum.io/miniconda/Miniconda2-4.3.30-Linux-x86_64.sh'
    dest: '{{ virtualbox_deployment_resources_dir }}/Miniconda2-latest-Linux-x86_64.sh'
    owner: '{{ virtualbox_deployment_user }}'
    group: '{{ virtualbox_deployment_user }}'
    mode: '0700'
    checksum: 'md5:bd1655b4b313f7b2a1f2e15b7b925d03'
    resource_type: 'url'

  virtualbox_remote_file_copies:

    state: "copy"
    src: './files/example_playbook.yml'
    dest: '{{ virtualbox_deployment_resources_dir }}/copy_test.yml'
    owner: '{{ virtualbox_deployment_user }}'
    group: '{{ virtualbox_deployment_user }}'
    mode: '0700'

  virtualbox_remote_file_touches:

    state: 'touch'
    path: '{{ virtualbox_deployment_resources_dir }}/copy_test.yml'
    owner: '{{ virtualbox_deployment_user }}'
    group: '{{ virtualbox_deployment_user }}'
    mode: '0770'

  virtualbox_remote_templates_files:

    state: 'template'
    src: './templates/template_test.md.j2'
    dest: '{{ virtualbox_deployment_resources_dir }}/test.md'
    owner: '{{ virtualbox_deployment_user }}'
    group: '{{ virtualbox_deployment_user }}'
    mode: '0700'

  virtualbox_remote_blocksinfile:

    type: 'blockinfile'
    path: '{{ virtualbox_deployment_resources_dir }}/test.md'
    owner: '{{ virtualbox_deployment_user }}'
    group: '{{ virtualbox_deployment_user }}'
    mode: '0700'
    insertafter: "EOF"
    block: |
      # if running bash
      if [ -n "$BASH_VERSION" ]; then
          # include /opt/display/bin/display if it exists
          if [ -f "/opt/display/bin/display" ]; then
              PATH="/opt/display/bin:$PATH"

       	. "/opt/display/bin/"
          fi
      fi
    state: "present"

  virtualbox_remote_standard_sym_links:

    state: 'link'
    src: '{{ virtualbox_deployment_resources_dir }}/test.md'
    dest: '{{ virtualbox_deployment_resources_dir }}/my_remote_link'
    owner: '{{ virtualbox_deployment_user }}'
    group: '{{ virtualbox_deployment_user }}'
    mode: '0700'
    force: '{{ virtualbox_default_link_force }}'

  virtualbox_remote_relative_sym_links:

    state: 'relative_link'
    link_dir: '{{ virtualbox_deployment_resources_dir }}'
    link_name: 'my_relative_link'
    link_target: 'test.md'
    owner: '{{ virtualbox_deployment_user }}'
    group: '{{ virtualbox_deployment_user }}'
    mode: '0700'
